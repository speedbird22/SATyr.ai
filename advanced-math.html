<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Advanced Math - SAT Study Notes</title>
    <link rel="stylesheet" href="theme.css">
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700&family=Inter:wght@300;400;500;600&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/es6-promise@4/dist/es6-promise.auto.min.js"></script>
    <script>
        window.MathJax = {
            tex: {
                inlineMath: [['$', '$'], ['\$$', '\$$']],
                displayMath: [['$$', '$$'], ['\\[', '\\]']],
                processEscapes: true,
                processEnvironments: true
            },
            options: {
                skipHtmlTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
            },
            startup: {
                ready: () => {
                    MathJax.startup.defaultReady();
                }
            }
        };
    </script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <style>
        html, body { height: 100%; }
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: 'Inter', 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #0f0f23 0%, #1a1a2e 25%, #16213e 50%, #0f3460 75%, #533483 100%);
            background-attachment: fixed;
            background-repeat: no-repeat;
            background-size: cover;
            min-height: 100%;
            height: auto;
            padding: 40px;
            overflow-x: hidden;
            position: relative;
        }
        
        .stars { position: fixed; top: 0; left: 0; width: 100%; height: 100%; pointer-events: none; z-index: 0; }
        .star { position: absolute; background: #f8fafc; border-radius: 50%; animation: twinkle 3s infinite; box-shadow: 0 0 6px rgba(248, 250, 252, 0.8); }
        .star.small { width: 1px; height: 1px; }
        .star.medium { width: 2px; height: 2px; box-shadow: 0 0 8px rgba(248, 250, 252, 0.9); }
        .star.large { width: 3px; height: 3px; box-shadow: 0 0 12px rgba(248, 250, 252, 1); }
        @keyframes twinkle {
            0%, 100% { opacity: 0.3; transform: scale(1); }
            25% { opacity: 0.8; transform: scale(1.2); }
            50% { opacity: 1; transform: scale(1.5); }
            75% { opacity: 0.6; transform: scale(1.1); }
        }

        .main-container {
            position: relative;
            margin: 80px auto;
            width: 90%;
            max-width: 1200px;
            background: linear-gradient(135deg, rgba(139, 92, 246, 0.08), rgba(168, 85, 247, 0.06), rgba(147, 51, 234, 0.08), rgba(79, 70, 229, 0.06));
            border: 2px solid rgba(139, 92, 246, 0.2);
            border-radius: 20px;
            padding: 60px 40px;
            color: #f8fafc;
            z-index: 100;
            box-shadow: 0 25px 50px rgba(0, 0, 0, 0.5), 0 0 30px rgba(139, 92, 246, 0.1);
            backdrop-filter: blur(20px);
            min-height: 500px;
        }
        
        .header {
            text-align: center;
            margin-bottom: 50px;
        }
        
        .main-title {
            font-family: 'Playfair Display', Georgia, serif;
            font-size: 3.5em;
            font-weight: 700;
            margin-bottom: 20px;
            background: linear-gradient(135deg, #a78bfa, #8b5cf6, #7c3aed, #6d28d9);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        .subtitle {
            font-size: 1.3em;
            opacity: 0.9;
            color: #c4b5fd;
            font-weight: 300;
            line-height: 1.6;
        }

        .back-button {
            position: absolute;
            top: 30px;
            left: 30px;
            padding: 12px 24px;
            background: rgba(139, 92, 246, 0.15);
            border: 2px solid rgba(139, 92, 246, 0.3);
            border-radius: 12px;
            color: #f8fafc;
            text-decoration: none;
            font-weight: 500;
            transition: all 0.3s ease;
            backdrop-filter: blur(10px);
        }

        .back-button:hover {
            background: rgba(139, 92, 246, 0.25);
            border-color: rgba(139, 92, 246, 0.5);
            transform: translateY(-2px);
        }

        .navigation {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-bottom: 40px;
            flex-wrap: wrap;
        }

        .nav-button {
            padding: 12px 24px;
            background: rgba(139, 92, 246, 0.15);
            border: 2px solid rgba(139, 92, 246, 0.3);
            border-radius: 12px;
            color: #f8fafc;
            cursor: pointer;
            font-weight: 500;
            transition: all 0.3s ease;
            backdrop-filter: blur(10px);
            width: 200px;
            text-align: center;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .nav-button:hover, .nav-button.active {
            background: rgba(139, 92, 246, 0.25);
            border-color: rgba(139, 92, 246, 0.5);
            transform: translateY(-2px);
        }

        .nav-button.completed {
            background: rgba(34, 197, 94, 0.2);
            border-color: rgba(34, 197, 94, 0.4);
            color: #22c55e;
        }

        .nav-button.completed:hover {
            background: rgba(34, 197, 94, 0.3);
            border-color: rgba(34, 197, 94, 0.6);
        }

        .content {
            background: rgba(139, 92, 246, 0.05);
            border-radius: 16px;
            padding: 40px;
            margin-bottom: 30px;
            border: 1px solid rgba(139, 92, 246, 0.15);
        }

        .content h2 {
            font-family: 'Playfair Display', Georgia, serif;
            font-size: 2.2em;
            margin-bottom: 20px;
            color: #c4b5fd;
        }

        .content h3 {
            font-size: 1.5em;
            margin: 25px 0 15px 0;
            color: #ddd6fe;
        }

        .content p {
            line-height: 1.8;
            margin-bottom: 15px;
            opacity: 0.9;
        }

        .content ul, .content ol {
            margin: 15px 0 15px 30px;
            line-height: 1.8;
        }

        .content li {
            margin-bottom: 8px;
            opacity: 0.9;
        }

        .example-box {
            background: rgba(139, 92, 246, 0.08);
            border-left: 4px solid #a78bfa;
            padding: 20px;
            margin: 20px 0;
            border-radius: 8px;
        }

        .example-box h4 {
            color: #c4b5fd;
            margin-bottom: 10px;
            font-weight: 600;
        }

        .formula {
            background: rgba(0, 0, 0, 0.3);
            padding: 15px;
            border-radius: 8px;
            margin: 15px 0;
            text-align: center;
            font-size: 1.1em;
            color: #fbbf24;
        }

        .nav-controls {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 30px;
        }

        .nav-controls button {
            padding: 12px 24px;
            background: rgba(139, 92, 246, 0.15);
            border: 2px solid rgba(139, 92, 246, 0.3);
            border-radius: 12px;
            color: #f8fafc;
            cursor: pointer;
            font-weight: 500;
            transition: all 0.3s ease;
            backdrop-filter: blur(10px);
            width: 120px;
            text-align: center;
        }

        .nav-controls button:hover:not(:disabled) {
            background: rgba(139, 92, 246, 0.25);
            border-color: rgba(139, 92, 246, 0.5);
            transform: translateY(-2px);
        }

        .nav-controls button:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .progress-indicator {
            font-size: 0.9em;
            color: #c4b5fd;
            font-weight: 500;
        }

        @media (max-width: 768px) {
            body { padding: 20px; }
            .main-container { padding: 40px 20px; margin: 40px auto; }
            .main-title { font-size: 2.5em; }
            .subtitle { font-size: 1.1em; }
            .back-button { position: static; margin-bottom: 20px; }
            .navigation { flex-direction: column; align-items: center; }
            .nav-button { width: 90%; max-width: 300px; }
            .nav-controls button { width: 100px; }
        }
    </style>
</head>
<body>
    <div class="stars" id="stars"></div>
    <div class="main-container">
        <a href="math-topics.html" class="back-button">← Back to Math Topics</a>
        
        <div class="header">
            <h1 class="main-title">Advanced Math</h1>
            <p class="subtitle">Complex functions, advanced algebraic concepts, and mathematical modeling</p>
        </div>

        <div class="navigation" id="navigation">
            <!-- Navigation buttons will be populated by JavaScript -->
        </div>

        <div class="content" id="content">
            <!-- Content will be populated by JavaScript -->
        </div>

        <div class="nav-controls">
            <button id="prevBtn" onclick="changeSubtopic(-1)">← Previous</button>
            <span class="progress-indicator" id="progressIndicator">1 / 4</span>
            <button id="nextBtn" onclick="changeSubtopic(1)">Next →</button>
        </div>
    </div>

    <script>
        let currentSubtopic = 0;
        
        const subtopics = [
            {
                title: "Polynomial Functions and Operations",
                content: `
                    <h2>Polynomial Functions and Operations</h2>
                    <p>This section delves into polynomial functions, which are expressions consisting of variables and coefficients, involving only non-negative integer exponents of variables. You'll need to perform basic operations and understand their properties.</p>
                    <p><strong>Operations with Polynomials:</strong></p>
                    <ul>
                        <li><strong>Addition/Subtraction:</strong> Combine like terms (terms with the same variable and exponent).</li>
                        <li><strong>Multiplication:</strong> Use the distributive property (FOIL for binomials, or distribute each term of one polynomial to every term of the other).</li>
                        <li><strong>Division:</strong> Often involves synthetic division or long division, especially when finding factors or roots.</li>
                    </ul>
                    <p><strong>Roots and Factors:</strong></p>
                    <ul>
                        <li><strong>Roots (Zeros/x-intercepts):</strong> The values of $x$ for which $P(x) = 0$. These are where the graph crosses the x-axis.</li>
                        <li><strong>Factors:</strong> If $x = a$ is a root, then $(x - a)$ is a factor of the polynomial.</li>
                        <li><strong>Remainder Theorem:</strong> If a polynomial $P(x)$ is divided by $(x - a)$, the remainder is $P(a)$.</li>
                        <li><strong>Factor Theorem:</strong> $(x - a)$ is a factor of $P(x)$ if and only if $P(a) = 0$.</li>
            </ul>
            <div class="example-box">
                <h4>Key Concepts: Polynomials</h4>
                <div class="formula">$$\\text{Standard Form: } P(x) = a_n x^n + a_{n-1} x^{n-1} + \\cdots + a_1 x + a_0$$</div>
                <div class="formula">$$\\text{Degree: Highest exponent } (n)$$</div>
                <div class="formula">$$\\text{Remainder Theorem: } P(a) = \\text{remainder when } P(x) \\text{ is divided by } (x-a)$$</div>
            </div>
        `
    },
    {
        title: "Nonlinear Expressions and Equations",
        content: `
            <h2>Nonlinear Expressions and Equations</h2>
            <p>This category includes equations that are not linear, often involving absolute values, radicals, or rational exponents. Understanding exponent rules is fundamental here.</p>
            <p><strong>Absolute Value Equations:</strong> If $|x| = a$, then $x = a$ or $x = -a$. Remember to consider both positive and negative cases. Always isolate the absolute value expression first.</p>
            <p><strong>Radical Equations:</strong> Equations involving square roots or other roots. To solve, isolate the radical, then raise both sides to the power of the index (e.g., square both sides for a square root). <strong>Crucially:</strong> Always check for extraneous solutions by plugging your answers back into the original equation, as squaring can introduce false solutions.</p>
            <p><strong>Rational Exponents:</strong> Exponents that are fractions (e.g., $x^{1/2} = \\sqrt{x}$, $x^{m/n} = (\\sqrt[n]{x})^m$). These are essentially a combination of roots and powers. Apply exponent rules consistently.</p>
            <div class="example-box">
                <h4>Key Formulas: Exponent Rules</h4>
                <div class="formula">$$x^a \\cdot x^b = x^{a+b}$$</div>
                <div class="formula">$$\\frac{x^a}{x^b} = x^{a-b}$$</div>
                <div class="formula">$$(x^a)^b = x^{ab}$$</div>
                <div class="formula">$$x^{-a} = \\frac{1}{x^a}$$</div>
                <div class="formula">$$x^{m/n} = (\\sqrt[n]{x})^m$$</div>
            </div>
        `
    },
    {
        title: "Exponential and Logarithmic Functions",
        content: `
            <h2>Exponential and Logarithmic Functions</h2>
            <p>These are inverse functions. Exponential functions model rapid growth or decay, while logarithmic functions help solve for unknown exponents.</p>
            <p><strong>Exponential Functions:</strong> $y = b^x$ (where $b > 0$, $b \\neq 1$). Key properties include a horizontal asymptote and rapid change. (Covered more in Algebra section).</p>
            <p><strong>Logarithmic Functions:</strong> $y = \\log_b(x)$ is equivalent to $b^y = x$. The base $b$ is the same for both. Logarithms are used to solve for unknown exponents.</p>
            <p><strong>Logarithm Properties:</strong></p>
            <ul>
                <li>$\\log_b(1) = 0$</li>
                <li>$\\log_b(b) = 1$</li>
                <li>$\\log_b(x) + \\log_b(y) = \\log_b(xy)$</li>
                <li>$\\log_b(x) - \\log_b(y) = \\log_b\\left(\\frac{x}{y}\\right)$</li>
                <li>$\\log_b(x^p) = p \\cdot \\log_b(x)$</li>
            </ul>
            <div class="example-box">
                <h4>Key Formulas: Logarithms</h4>
                <div class="formula">$$\\log_b(x) = y \\Leftrightarrow b^y = x$$</div>
                <div class="formula">$$\\log_b(x) + \\log_b(y) = \\log_b(xy)$$</div>
                <div class="formula">$$\\log_b(x) - \\log_b(y) = \\log_b\\left(\\frac{x}{y}\\right)$$</div>
                <div class="formula">$$\\log_b(x^p) = p \\cdot \\log_b(x)$$</div>
            </div>
        `
    },
    {
        title: "Sequences, Series, and Complex Numbers",
        content: `
            <h2>Sequences, Series, and Complex Numbers</h2>
            <p>This section covers patterns in numbers (sequences and series) and introduces complex numbers, which extend the real number system.</p>
            
            <h3>Arithmetic Sequences</h3>
            <p>A sequence where each term is found by adding a constant value (common difference) to the previous term.</p>
            <div class="formula">$$a_n = a_1 + (n-1)d$$</div>
            <p>Where $a_n$ is the nth term, $a_1$ is the first term, $d$ is the common difference, and $n$ is the term number.</p>
            
            <div class="example-box">
                <h4>Example: Arithmetic Sequence</h4>
                <p>Find the 10th term of the sequence: 3, 7, 11, 15, ...</p>
                <p>First term $a_1 = 3$, common difference $d = 4$</p>
                <p>$a_{10} = 3 + (10-1) \\times 4 = 3 + 36 = 39$</p>
            </div>
            
            <h3>Arithmetic Series</h3>
            <p>The sum of terms in an arithmetic sequence.</p>
            <div class="formula">$$S_n = \\frac{n}{2}(a_1 + a_n) = \\frac{n}{2}[2a_1 + (n-1)d]$$</div>
            
            <div class="example-box">
                <h4>Example: Arithmetic Series</h4>
                <p>Find the sum of the first 10 terms of: 3, 7, 11, 15, ...</p>
                <p>$S_{10} = \\frac{10}{2}(3 + 39) = 5 \\times 42 = 210$</p>
            </div>
            
            <h3>Geometric Sequences</h3>
            <p>A sequence where each term is found by multiplying the previous term by a constant value (common ratio).</p>
            <div class="formula">$$a_n = a_1 \\cdot r^{n-1}$$</div>
            <p>Where $r$ is the common ratio.</p>
            
            <div class="example-box">
                <h4>Example: Geometric Sequence</h4>
                <p>Find the 6th term of the sequence: 2, 6, 18, 54, ...</p>
                <p>First term $a_1 = 2$, common ratio $r = 3$</p>
                <p>$a_6 = 2 \\times 3^{6-1} = 2 \\times 3^5 = 2 \\times 243 = 486$</p>
            </div>
            
            <h3>Geometric Series</h3>
            <p>The sum of terms in a geometric sequence.</p>
            <div class="formula">$$S_n = a_1 \\cdot \\frac{1-r^n}{1-r} \\text{ (when } r \\neq 1\\text{)}$$</div>
            
            <div class="example-box">
                <h4>Example: Geometric Series</h4>
                <p>Find the sum of the first 5 terms of: 2, 6, 18, 54, ...</p>
                <p>$S_5 = 2 \\cdot \\frac{1-3^5}{1-3} = 2 \\cdot \\frac{1-243}{-2} = 2 \\cdot \\frac{-242}{-2} = 242$</p>
            </div>
            
            <h3>Infinite Geometric Series</h3>
            <p>When $|r| < 1$, an infinite geometric series converges to a finite sum.</p>
            <div class="formula">$$S_{\\infty} = \\frac{a_1}{1-r} \\text{ (when } |r| < 1\\text{)}$$</div>
            
            <div class="example-box">
                <h4>Example: Infinite Geometric Series</h4>
                <p>Find the sum of: $\\frac{1}{2} + \\frac{1}{4} + \\frac{1}{8} + \\frac{1}{16} + ...$</p>
                <p>$a_1 = \\frac{1}{2}$, $r = \\frac{1}{2}$</p>
                <p>$S_{\\infty} = \\frac{1/2}{1-1/2} = \\frac{1/2}{1/2} = 1$</p>
            </div>
            
            <h3>Complex Numbers</h3>
            <p>Numbers of the form $a + bi$ where $a$ and $b$ are real numbers and $i = \\sqrt{-1}$.</p>
            <ul>
                <li><strong>Real part:</strong> $a$</li>
                <li><strong>Imaginary part:</strong> $b$</li>
                <li><strong>Imaginary unit:</strong> $i^2 = -1$</li>
            </ul>
            
            <div class="example-box">
                <h4>Powers of i</h4>
                <ul>
                    <li>$i^1 = i$</li>
                    <li>$i^2 = -1$</li>
                    <li>$i^3 = -i$</li>
                    <li>$i^4 = 1$</li>
                    <li>Pattern repeats every 4 powers</li>
                </ul>
            </div>
            
            <h3>Operations with Complex Numbers</h3>
            <p><strong>Addition/Subtraction:</strong> Combine like terms</p>
            <div class="example-box">
                <h4>Example: Adding Complex Numbers</h4>
                <p>$(3 + 4i) + (2 - 5i) = (3 + 2) + (4i - 5i) = 5 - i$</p>
            </div>
            
            <p><strong>Multiplication:</strong> Use distributive property and $i^2 = -1$</p>
            <div class="example-box">
                <h4>Example: Multiplying Complex Numbers</h4>
                <p>$(2 + 3i)(1 + 4i) = 2 + 8i + 3i + 12i^2$</p>
                <p>$= 2 + 11i + 12(-1) = 2 + 11i - 12 = -10 + 11i$</p>
            </div>
            
            <p><strong>Complex Conjugate:</strong> For $a + bi$, the conjugate is $a - bi$</p>
            <ul>
                <li>$(a + bi)(a - bi) = a^2 + b^2$ (always real)</li>
                <li>Used for division of complex numbers</li>
            </ul>
            
            <div class="example-box">
                <h4>Example: Dividing Complex Numbers</h4>
                <p>$\\frac{2 + 3i}{1 + i} = \\frac{(2 + 3i)(1 - i)}{(1 + i)(1 - i)} = \\frac{2 - 2i + 3i - 3i^2}{1 - i^2}$</p>
                <p>$= \\frac{2 + i + 3}{1 + 1} = \\frac{5 + i}{2} = \\frac{5}{2} + \\frac{1}{2}i$</p>
            </div>
        `
    }
];

        function createStars() {
            const starsContainer = document.getElementById('stars');
            const starCount = 150;
            for (let i = 0; i < starCount; i++) {
                const star = document.createElement('div');
                star.className = `star ${['small', 'medium', 'large'][Math.floor(Math.random() * 3)]}`;
                star.style.left = Math.random() * 100 + '%';
                star.style.top = Math.random() * 100 + '%';
                star.style.animationDelay = Math.random() * 3 + 's';
                star.style.animationDuration = (Math.random() * 2 + 2) + 's';
                starsContainer.appendChild(star);
            }
        }

        function createNavigation() {
            const nav = document.getElementById('navigation');
            nav.innerHTML = '';
            
            subtopics.forEach((subtopic, index) => {
                const button = document.createElement('button');
                button.className = 'nav-button';
                button.textContent = subtopic.title;
                button.onclick = () => showSubtopic(index);
                if (index === currentSubtopic) {
                    button.classList.add('active');
                }
                nav.appendChild(button);
            });
            
            updateButtonCompletionStatus();
        }

        function showSubtopic(index) {
            currentSubtopic = index;
            document.getElementById('content').innerHTML = subtopics[index].content;
            document.getElementById('progressIndicator').textContent = `${index + 1} / ${subtopics.length}`;
            
            // Update navigation buttons
            createNavigation();
            
            // Update prev/next buttons
            document.getElementById('prevBtn').disabled = index === 0;
            document.getElementById('nextBtn').disabled = index === subtopics.length - 1;
            
            // Mark as completed in progress tracking
            markSubtopicCompleted('math', 'Advanced Math', subtopics[index].title);
            
            // Re-render MathJax
            if (window.MathJax && MathJax.typesetPromise) {
                MathJax.typesetPromise().catch((err) => {
                    console.log('MathJax error:', err);
                });
            } else if (window.MathJax && MathJax.Hub) {
                MathJax.Hub.Queue(["Typeset", MathJax.Hub, document.getElementById('content')]);
            }
        }

        function changeSubtopic(direction) {
            const newIndex = currentSubtopic + direction;
            if (newIndex >= 0 && newIndex < subtopics.length) {
                showSubtopic(newIndex);
            }
        }

        function markSubtopicCompleted(subject, topic, subtopic) {
            console.log(`[Progress] Marking completed: ${subject} > ${topic} > ${subtopic}`);
            
            // Save to satProgress
            const progress = JSON.parse(localStorage.getItem('satProgress') || '{}');
            if (!progress[subject]) progress[subject] = {};
            if (!progress[subject][topic]) progress[subject][topic] = {};
            progress[subject][topic][subtopic] = true;
            localStorage.setItem('satProgress', JSON.stringify(progress));
            
            // Save to satNotesProgress (for main page compatibility)
            const notesProgress = JSON.parse(localStorage.getItem('satNotesProgress') || '{}');
            if (!notesProgress[subject]) notesProgress[subject] = {};
            if (!notesProgress[subject][topic]) notesProgress[subject][topic] = {};
            notesProgress[subject][topic][subtopic] = true;
            localStorage.setItem('satNotesProgress', JSON.stringify(notesProgress));
            
            console.log('[Progress] Saved to both satProgress and satNotesProgress');
            
            // Update button completion status
            updateButtonCompletionStatus();
            
            // Trigger progress update on main page
            if (window.parent && window.parent.updateProgressBar) {
                window.parent.updateProgressBar();
            }
        }

        function isSubtopicCompleted(subtopicTitle) {
            const progress = JSON.parse(localStorage.getItem('satNotesProgress') || '{}');
            return progress.math && progress.math['Advanced Math'] && progress.math['Advanced Math'][subtopicTitle];
        }

        function updateButtonCompletionStatus() {
            const navButtons = document.querySelectorAll('.nav-button');
            navButtons.forEach((button, index) => {
                if (isSubtopicCompleted(subtopics[index].title)) {
                    button.classList.add('completed');
                } else {
                    button.classList.remove('completed');
                }
            });
        }

        // Initialize page
        createStars();
        createNavigation();
        showSubtopic(0);
    </script>
</body>
</html>
